# 作品データベースページ セットアップ手順

## 📝 WordPress管理画面での設定

### 1. 固定ページを作成

1. WordPress管理画面にログイン
2. **固定ページ > 新規追加** をクリック
3. 以下の情報を入力：

   - **タイトル**: `作品データベース`
   - **URL スラッグ**: `works`（パーマリンク設定で変更）
   - **本文**: 空欄でOK（テンプレートが表示されます）

4. 右サイドバーの **ページ属性 > テンプレート** で：
   - 「**作品データベース**」を選択

5. **公開** をクリック

### 2. パーマリンク設定の確認

1. 固定ページ編集画面で、タイトル下の **パーマリンク** をクリック
2. URL スラッグが `works` になっていることを確認
3. 完成URL: `https://あなたのドメイン/works/`

## 🎨 ページの表示内容

作成した固定ページには自動的に以下が表示されます：

- **ヒーローセクション**: 統計情報（作品数・ジャンル数・エピソード数）
- **検索バー**: 作品名で検索
- **フィルター**: ジャンル別、ソート（登場回数・作品名・年代）
- **表示切替**: グリッド/リスト
- **作品カード**: 画像・メタ情報・評価・登場エピソード一覧

## 📊 作品データの追加方法

各エピソード投稿に以下のカスタムフィールドを追加：

### カスタムフィールド名
```
mentioned_works
```

### データ形式（配列）
```php
array(
    array(
        'title' => '作品名（必須）',
        'genre' => 'ジャンル',  // 映画、ドラマ、アニメ、ゲーム、書籍、漫画
        'year' => '2024',
        'rating' => 5,           // 1-5の整数
        'image' => 'https://example.com/image.jpg',
        'url' => 'https://example.com/detail'
    ),
    // 複数の作品を追加可能
)
```

### 対応ジャンルと絵文字アイコン
- **映画**: 🎬
- **ドラマ**: 📺
- **アニメ**: 🎨
- **ゲーム**: 🎮
- **書籍**: 📚
- **漫画**: 📖
- **その他**: 🎭

## 🔗 アクセス導線

### 1. ハンバーガーメニュー
- 右上メニュー → 📚 作品データベース

### 2. トップページ
- ヒーローセクション右サイドバー → 📚 作品データベース

### 3. エピソード詳細ページ
- 「このエピソードで紹介した作品」セクション → 📚 すべての作品を見る

## ⚙️ カスタマイズ

### デザイン変更
- **CSS**: `/page-works.css`
- **JavaScript**: `/page-works.js`

### テンプレート編集
- **PHP**: `/page-works.php`

### スタイル変更例

```css
/* 作品カードの色を変更 */
.work-card {
    background: #f0f0f0;
}

/* ヒーローセクションの背景グラデーション */
.works-hero {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
```

## 🐛 トラブルシューティング

### 問題: 作品データベースをクリックするとフロントページに戻る

**原因**: 固定ページが作成されていない、またはスラッグが `works` でない

**解決策**:
1. WordPress管理画面 → 固定ページ → すべての固定ページ
2. 「作品データベース」ページが存在するか確認
3. ページのURLスラッグが `works` になっているか確認
4. テンプレートが「作品データベース」に設定されているか確認

### 問題: 作品が表示されない

**原因**: エピソード投稿に `mentioned_works` カスタムフィールドが設定されていない

**解決策**:
1. エピソード投稿を編集
2. カスタムフィールドを追加
3. 上記のデータ形式で作品情報を入力

### 問題: テンプレートが選択肢に表示されない

**原因**: `page-works.php` がテーマディレクトリにアップロードされていない

**解決策**:
1. FTPまたはファイルマネージャーで確認
2. `/wp-content/themes/contentfreaks-child/page-works.php` が存在するか確認
3. ファイルがない場合はアップロード

## 📚 関連ファイル

- `/page-works.php` - テンプレートファイル
- `/page-works.css` - スタイルシート（620行）
- `/page-works.js` - JavaScript機能（320行）
- `/functions.php` - アセット読み込み設定
- `/single.php` - エピソード詳細ページ統合
- `/components.css` - 紹介作品セクションスタイル
- `/header.php` - ナビゲーションメニュー
- `/front-page.php` - トップページ統合

## 📞 サポート

問題が解決しない場合は、以下を確認してください：
- WordPress バージョン: 5.0以上
- PHP バージョン: 7.4以上
- テーマ: Cocoon Child (ContentFreaks)
